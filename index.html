<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hello world project</title>
  </head>

  <body>
    <div id="root"></div>

    <script>
      console.log("=== PAGE LOAD START ===");
      console.log("ğŸ“„ index.html parsing...");
      console.log("ğŸ” Checking window.React:", typeof window.React);
      console.log("ğŸ” Checking window.ReactDOM:", typeof window.ReactDOM);
    </script>

    <script type="module">
      console.log("=== MODULE SCRIPT START ===");
      console.log("ğŸ” In module scope - React available?", typeof React);

      // Try to import React to see what happens
      try {
        import("react")
          .then((reactModule) => {
            console.log("âœ… React module imported successfully");
            console.log(
              "ğŸ“¦ React module keys:",
              Object.keys(reactModule).slice(0, 10),
            );
            window.ReactDebug = reactModule;
          })
          .catch((err) => {
            console.error("âŒ Failed to import React:", err);
          });
      } catch (e) {
        console.error("âŒ Import error:", e);
      }
    </script>

    <script type="module" src="./client/main.tsx">
      console.log("ğŸ¯ main.tsx script tag loaded");
    </script>

    <script>
      console.log("=== AFTER MODULE LOAD ===");
      setTimeout(() => {
        console.log("â±ï¸  After 100ms:");
        console.log("ğŸ” window.React?", typeof window.React);
        console.log("ğŸ” window.ReactDebug?", typeof window.ReactDebug);
        console.log(
          "ğŸ” window keys with React:",
          Object.keys(window).filter(
            (k) => k.includes("React") || k.includes("react"),
          ),
        );
        const root = document.getElementById("root");
        console.log("ğŸ¯ Root element children:", root?.children.length);
        if (root?.children.length === 0) {
          console.warn(
            "âš ï¸ Root is still empty - component may have failed to render",
          );
        } else {
          console.log("âœ… Root has children - component rendered!");
        }
      }, 100);

      // Catch all errors
      window.addEventListener("error", (e) => {
        console.error("ğŸ”´ ERROR EVENT:", {
          message: e.message,
          filename: e.filename,
          lineno: e.lineno,
          colno: e.colno,
          error: e.error?.stack,
        });
      });
    </script>
  </body>
</html>
